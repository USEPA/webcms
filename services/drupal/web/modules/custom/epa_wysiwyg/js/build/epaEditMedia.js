!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.CKEditor5=t():(e.CKEditor5=e.CKEditor5||{},e.CKEditor5.epaEditMedia=t())}(self,(function(){return function(){var e={"ckeditor5/src/core.js":function(e,t,o){e.exports=o("dll-reference CKEditor5.dll")("./src/core.js")},"ckeditor5/src/ui.js":function(e,t,o){e.exports=o("dll-reference CKEditor5.dll")("./src/ui.js")},"ckeditor5/src/widget.js":function(e,t,o){e.exports=o("dll-reference CKEditor5.dll")("./src/widget.js")},"dll-reference CKEditor5.dll":function(e){"use strict";e.exports=CKEditor5.dll}},t={};function o(i){var r=t[i];if(void 0!==r)return r.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,o),n.exports}o.d=function(e,t){for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var i={};return function(){"use strict";o.d(i,{default:function(){return l}});var e=o("ckeditor5/src/core.js"),t=o("ckeditor5/src/ui.js");o("ckeditor5/src/widget.js");function r(e){return!!e&&e.is("element","drupalMedia")}function n(e){return!!e&&e.is("element","drupalInlineMedia")}class c extends e.Command{execute(){const e=this.editor.model.document.selection.getSelectedElement(),t=this.editor.plugins.get("DrupalMediaMetadataRepository");(r(e)||n(e))&&t.getMetadata(e).then((e=>{window.open(e.edit_url,"_blank")})).catch((e=>{console.warn(e.toString())}))}}class a extends e.Plugin{static get requires(){return["DrupalMediaEditing"]}static get pluginName(){return"EditDrupalMediaUi"}init(){this._createToolbarEditMediaButton(),this.editor.commands.add("EditDrupalMedia",new c(this.editor))}_createToolbarEditMediaButton(){const{editor:e}=this;e.ui.componentFactory.add("EditDrupalMediaButton",(o=>{const i=new t.ButtonView(o),r=e.commands.get("EditDrupalMedia");return i.set({isEnabled:!0,label:Drupal.t("Edit Media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">\x3c!--! Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path d="M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V285.7l-86.8 86.8c-10.3 10.3-17.5 23.1-21 37.2l-18.7 74.9c-2.3 9.2-1.8 18.8 1.3 27.5H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128zM549.8 235.7l14.4 14.4c15.6 15.6 15.6 40.9 0 56.6l-29.4 29.4-71-71 29.4-29.4c15.6-15.6 40.9-15.6 56.6 0zM311.9 417L441.1 287.8l71 71L382.9 487.9c-4.1 4.1-9.2 7-14.9 8.4l-60.1 15c-5.5 1.4-11.2-.2-15.2-4.2s-5.6-9.7-4.2-15.2l15-60.1c1.4-5.6 4.3-10.8 8.4-14.9z"/></svg>',tooltip:!0}),i.bind("isEnabled").to(r,"isEnabled"),this.listenTo(i,"execute",(()=>{e.execute("EditDrupalMedia")})),i}))}}class s extends e.Plugin{static get requires(){return["DrupalMediaEditing"]}static get pluginName(){return"CopyFilepath"}init(){this._createToolbarCopyFilepathButton()}_createToolbarCopyFilepathButton(){const{editor:e}=this;e.ui.componentFactory.add("CopyFilepathButton",(o=>{const i=new t.ButtonView(o);return i.set({isEnabled:!0,label:Drupal.t("Copy file path"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--! Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path d="M272 0H396.1c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9V336c0 26.5-21.5 48-48 48H272c-26.5 0-48-21.5-48-48V48c0-26.5 21.5-48 48-48zM48 128H192v64H64V448H256V416h64v48c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48z"/></svg>',tooltip:!0}),this.listenTo(i,"execute",(()=>{const t=e.model.document.selection.getSelectedElement(),o=e.plugins.get("DrupalMediaMetadataRepository");(r(t)||n(t))&&o.getMetadata(t).then((e=>{navigator.clipboard.writeText(e.imageSourceMetadata.filepath),alert("Copied the file path: "+e.imageSourceMetadata.filepath)})).catch((e=>{console.warn(e.toString())}))})),i}))}}class d extends e.Plugin{static get requires(){return[a,s]}}var l={EditDrupalMedia:d}}(),i=i.default}()}));